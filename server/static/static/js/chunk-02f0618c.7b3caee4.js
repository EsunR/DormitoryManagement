(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02f0618c"],{"0f08":function(t,e,n){},"3aff":function(t,e,n){},"420d":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return o}));var a=n("b775");function s(t){return Object(a["a"])({url:"/room/getRooms",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/room/getRoomInfo",method:"get",params:{roomId:t}})}},abb5:function(t,e,n){"use strict";var a=n("0f08"),s=n.n(a);s.a},b350:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-wrapper",attrs:{id:"UserInfo"}},[n("h1",{staticClass:"main-title"},[t._v("选择学生")]),t._v(" "),n("div",{staticClass:"wrapper"},[n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"级联选择"}},[n("GroupSelector",{attrs:{selectorData:t.selectorData}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.fetchUserInfo("id",t.selectorData.userId)}}},[t._v("搜索")])],1),t._v(" "),n("el-tab-pane",{attrs:{label:"按学号搜索"}},[n("StudentSearcher",{model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.fetchUserInfo("account",t.searchContent)}}},[t._v("搜索")])],1)],1)],1),t._v(" "),n("h1",{staticClass:"main-title"},[t._v("详细信息")]),t._v(" "),t.studentInfo.id?n("div",{staticClass:"wrapper userInfo-wrapper"},[n("el-row",{staticClass:"top",attrs:{gutter:20}},[n("el-col",{attrs:{md:12}},[n("div",{staticClass:"userInfo-card"},[n("div",{staticClass:"title"},[t._v("用户信息")]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"info-item"},[n("label",[t._v("姓名:")]),t._v(" "),n("span",[t._v(t._s(t.studentInfo.name))])]),t._v(" "),n("div",{staticClass:"info-item"},[n("label",[t._v("学号:")]),t._v(" "),n("span",[t._v(t._s(t.studentInfo.account))])]),t._v(" "),n("div",{staticClass:"info-item"},[n("label",[t._v("手机号:")]),t._v(" "),n("span",[t._v(t._s(t.studentInfo.phone))])]),t._v(" "),n("div",{staticClass:"info-item"},[n("label",[t._v("注册日期:")]),t._v(" "),n("span",[t._v(t._s(t.$moment(t.studentInfo.createdAt).format("YYYY-MM-DD")))])])])]),t._v(" "),n("el-col",{attrs:{md:12}},[n("div",{staticClass:"roomInfo-card"},[n("PanelGroup",{attrs:{userInfo:t.studentInfo}})],1)])],1),t._v(" "),n("div",{staticClass:"bottom main-card",staticStyle:{"margin-top":"20px"}},[n("div",{staticClass:"process-item"},[n("span",[t._v("早起概率：")]),t._v(" "),n("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:Number((100*t.studentInfo.getupProb).toFixed(2))}})],1),t._v(" "),n("div",{staticClass:"process-item"},[n("span",[t._v("早归概率：")]),t._v(" "),n("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:Number((100*t.studentInfo.backProb).toFixed(2)),status:"success"}})],1),t._v(" "),n("div",{staticClass:"process-item"},[n("span",[t._v("打扫概率：")]),t._v(" "),n("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:Number((100*t.studentInfo.cleanProb).toFixed(2)),status:"warning"}})],1)])],1):n("div",{staticClass:"no-data-tips main-card wrapper"},[t._v("请选择用户")])])},s=[],o=n("3392"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-autocomplete",{staticClass:"student-search",attrs:{"popper-class":"my-autocomplete","fetch-suggestions":t.querySearch,placeholder:"输入学生姓名或学号"},on:{select:t.handleSelect,input:t.handleInput},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[n("div",{staticClass:"name"},[t._v(t._s(a.name))]),t._v(" "),n("span",{staticClass:"account"},[t._v(t._s(a.account))])]}}]),model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})},i=[],c=n("c24f"),l={name:"AdminSearcher",model:{prop:"value",event:"input"},data:function(){return{admins:[],state:""}},props:{value:{type:String,default:""}},methods:{querySearch:function(t,e){Object(c["i"])(t).then((function(t){var n=t.data.students;e(n)}))},handleSelect:function(t){this.state=t.account,this.$emit("input",this.state)},handleInput:function(t){this.$emit("input",t)}}},u=l,d=(n("d9cc"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"5c510d8a",null),p=f.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"room-panel-group"}},[t.userInfo.id?n("el-row",{attrs:{gutter:30}},t._l(t.panelData,(function(e,a){return n("el-col",{key:a,attrs:{sm:24/(t.panelData.length/2)}},[n("div",{staticClass:"group-item-wrapper"},[n("div",{staticClass:"icon-wrapper"},[n("i",{staticClass:"icon",class:e.icon,style:{color:e.color}})]),t._v(" "),n("div",{staticClass:"text-wrapper"},[n("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"content"},[t._v(t._s(e.content))])])])])})),1):n("div",{staticClass:"main-card no-data-tips"},[t._v("\n    = 请选择用户 =\n  ")])],1)},m=[],_={name:"RoomPanelGroup",data:function(){return{}},props:{userInfo:{type:Object,required:!0}},computed:{panelData:function(){return[{icon:"el-icon-s-home",color:"#40C9C6",title:"房间号",content:this.userInfo.roomNumber},{icon:"el-icon-location",color:"#36A3F7",title:"所在楼层",content:this.userInfo.floorLayer+"层"},{icon:"el-icon-office-building",color:"#F4516C",title:"宿舍楼",content:this.userInfo.buildingName},{icon:"el-icon-user-solid",color:"#34BFA3",title:"入住日期",content:this.$moment(this.userInfo.checkTime).format("YYYY-MM-DD")}]}}},h=_,b=(n("abb5"),Object(d["a"])(h,v,m,!1,null,"d83d4ef2",null)),I=b.exports,C={name:"UserInfo",components:{GroupSelector:o["a"],StudentSearcher:p,PanelGroup:I},data:function(){return{selectorData:{buildingId:null,floorId:null,roomId:null,userId:null},searchContent:"",studentInfo:{}}},methods:{fetchUserInfo:function(t,e){var n=this;Object(c["d"])({type:t,value:e}).then((function(t){n.studentInfo=t.data}))}},mounted:function(){this.$route.query.userId&&this.fetchUserInfo("id",this.$route.query.userId)}},g=C,w=(n("e948"),Object(d["a"])(g,a,s,!1,null,"58fd87cf",null));e["default"]=w.exports},be0e:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}));var a=n("b775");function s(t){return Object(a["a"])({url:"/floor/getFloors",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/floor/getFloorsDetail",method:"get",params:{buildingId:t}})}function r(t,e){return Object(a["a"])({url:"/floor/addCleanerToFloor",method:"post",data:{floorId:t,cleanerId:e}})}},d9cc:function(t,e,n){"use strict";var a=n("3aff"),s=n.n(a);s.a},db75:function(t,e,n){},e948:function(t,e,n){"use strict";var a=n("db75"),s=n.n(a);s.a}}]);